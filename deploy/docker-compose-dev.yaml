# 本地构建并运行 OpenClawX Gateway（不依赖 CI 镜像）
# 在仓库根目录执行：docker compose -f deploy/docker-compose-dev.yaml up --build
# 或在 deploy 目录执行：docker compose -f docker-compose-dev.yaml up --build

services:
  openclawx:
    build:
      context: ..
      dockerfile: deploy/Dockerfile
    image: openclawx:dev
    container_name: openclawx-dev
    ports:
      - "38080:38080"
    environment:
      - NODE_ENV=production
    restart: unless-stopped
    command: ["gateway", "--port", "38080"]
